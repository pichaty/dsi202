{# in myapp/templates/myapp/donate_detail.html #}

{% extends 'myapp/base.html' %}
{% load static %}

{% block title %}PAWal - Donation Detail - No. {{ case.case_id }}{% endblock %} {# ‡∏ï‡∏±‡πâ‡∏á Title ‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤ #}

{% block extra_head %}
<style>
    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ Detail Donate */
    body {
        background-color: #f6f6f1;
        font-family: Arial, sans-serif;
        color: #333;
        line-height: 1.4;
        padding-bottom: 60px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Footer ‡πÅ‡∏ö‡∏ö Fixed */
    }

    /* Header Title Bar ‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ (‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß) */
     /* Adjusted margin-top to push content below the fixed header from base.html */
     .page-header-title {
        background-color: #5B9B5F; /* ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ */
        color: white;
        padding: 15px 15px;
        text-align: center;
        font-size: 20px;
        font-weight: 1000 ;
        font-family: Grandstander; /* ‡πÉ‡∏ä‡πâ‡∏ü‡∏≠‡∏ô‡∏ï‡πå Grandstander ‡∏ï‡∏≤‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏´‡πâ‡∏°‡∏≤ */
         margin-top: 160px;
    }

    /* Container ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    .donate-detail-container {
        max-width: 500px; /* ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á */
        margin: 0 auto; /* ‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á */
        padding: 10px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏° padding ‡∏£‡∏≠‡∏ö‡πÜ */
    }

    /* Card ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á */
    .pet-detail-card {
        background-color: #fff3e0; /* ‡∏™‡∏µ‡∏™‡πâ‡∏°‡∏≠‡πà‡∏≠‡∏ô/‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ */
        border-radius: 8px;
        overflow: hidden; /* ‡πÉ‡∏´‡πâ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡πÇ‡∏Ñ‡πâ‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡∏î */
        margin-bottom: 15px; /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡πÉ‡∏ï‡πâ Card */
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏≤‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢ */
        padding: 15px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏° padding ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô Card */
    }

    /* Header ‡πÉ‡∏ô Pet Detail Card (‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÄ‡∏Ñ‡∏™ + ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏û‡∏®) */
    .pet-info-header {
        display: flex; /* ‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÄ‡∏Ñ‡∏™‡πÅ‡∏•‡∏∞‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏û‡∏®‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô */
        justify-content: space-between; /* ‡πÅ‡∏¢‡∏Å‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Å‡∏±‡∏ô */
        align-items: center; /* ‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
        padding-bottom: 10px;
        margin-bottom: 10px;
        border-bottom: 1px solid #ffdbb8; /* ‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡πà‡∏á‡∏™‡∏µ‡∏™‡πâ‡∏°‡∏≠‡πà‡∏≠‡∏ô */
    }

    .pet-info-header h3 {
        margin: 0;
        color: #333;
        font-size: 16px; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ü‡∏≠‡∏ô‡∏ï‡πå */
    }

     /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏û‡∏®‡πÉ‡∏ô Header */
     .pet-info-header .gender-icon {
        width: 30px; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏ß‡∏á‡∏Å‡∏•‡∏° */
         height: 30px;
         border-radius: 50%; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏á‡∏Å‡∏•‡∏° */
         background-color: #66b0f5;
         color: #ffffff;
         font-size: 18px; /* ‡∏Ç‡∏ô‡∏≤‡∏î‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡πÄ‡∏û‡∏® */
         display: flex;
         justify-content: center;
         align-items: center;
         font-weight: 3000;
         flex-shrink: 0; /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏û‡∏®‡∏ñ‡∏π‡∏Å‡∏¢‡πà‡∏≠ */
         font-family: 'font-awesome', sans-serif; /* ‡πÉ‡∏ä‡πâ font-family ‡∏ï‡∏≤‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏´‡πâ‡∏°‡∏≤ */
     }

      /* ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏®‡∏´‡∏ç‡∏¥‡∏á ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å‡∏™‡∏µ */
      .pet-info-header .gender-icon.female {
          background-color: #ffb6c1; /* ‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π‡∏≠‡πà‡∏≠‡∏ô */
          color: #ff69b4; /* ‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π */
      }


    /* ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á */
    .pet-detail-info {
        display: flex;
        /* align-items: center; /* ‡πÄ‡∏≠‡∏≤ align-items: center ‡∏≠‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ä‡∏¥‡∏î‡∏ö‡∏ô */
        margin-bottom : 15px; /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡πÉ‡∏ï‡πâ‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ */
    }

    /* ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÉ‡∏ô Detail Card */
    .pet-image {
        width: 120px; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û */
        height: 120px;
        overflow: hidden;
        border-radius: 4px; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏°‡∏∏‡∏°‡πÇ‡∏Ñ‡πâ‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û */
        margin-right: 15px;
        flex-shrink: 0; /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ñ‡∏π‡∏Å‡∏¢‡πà‡∏≠ */
    }

    .pet-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    /* ‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (Hospital, Gender, Age) */
    .pet-details {
        flex-grow: 1; /* ‡πÉ‡∏´‡πâ‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà */
    }

    .detail-row {
        display: flex;
        margin-bottom: 5px; /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÅ‡∏ñ‡∏ß‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• */
        font-size: 13px; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ü‡∏≠‡∏ô‡∏ï‡πå */
    }

    .detail-label {
        width: 80px; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Label */
        color: #666;
        font-weight: bold;
        flex-shrink: 0; /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô Label ‡∏ñ‡∏π‡∏Å‡∏¢‡πà‡∏≠ */
    }

    .detail-value {
        flex-grow: 1;
    }

    /* ‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç */
    .pet-condition {
        /* ‡∏°‡∏µ padding ‡∏à‡∏≤‡∏Å .pet-detail-card ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß */
        margin-top: 15px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô */
    }

    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Label "Description of the condition" ‡πÅ‡∏•‡∏∞‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô */
    .condition-label {
         display: flex; /* ‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô */
         align-items: center; /* ‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
         font-size: 14px; /* ‡∏Ç‡∏ô‡∏≤‡∏î‡∏ü‡∏≠‡∏ô‡∏ï‡πå Label */
         font-weight: bold;
         margin-bottom: 5px; /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á Label */
         color: #333; /* ‡∏™‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° Label */
    }

     /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏™‡∏°‡∏∏‡∏î‡πÇ‡∏ô‡πâ‡∏ï */
    .notebook-icon {
        margin-right: 5px; /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤‡∏à‡∏≤‡∏Å‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô */
         /* ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û ‡∏´‡∏£‡∏∑‡∏≠ Font Awesome icon ‡πÅ‡∏ó‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ 'üìÑ' */
         /* ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Font Awesome icon: <i class="fas fa-book"></i> ‡∏´‡∏£‡∏∑‡∏≠ <i class="fas fa-file-alt"></i> */
    }


    .pet-condition p {
        color: #666;
        font-size: 13px; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ü‡∏≠‡∏ô‡∏ï‡πå */
        line-height: 1.4;
        margin: 0;
    }

    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡πà‡∏ß‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Detail */
    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡πà‡∏ß‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Detail */
    .donation-section {
        background-color: #fff; /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß */
        border-radius: 8px;
        padding: 15px;
        margin-top: 15px; /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ */
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏≤‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢ */
    }

    .section-heading {
        font-size: 16px;
        font-weight: bold;
        margin-bottom: 15px;
        text-align: center; /* ‡∏à‡∏±‡∏î‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    }

    /* **‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Container ‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏°‡∏ä‡πà‡∏≠‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å** */
    .amount-and-options {
        display: flex; /* ‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô */
        flex-wrap: wrap; /* ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏û‡∏≠ */
        align-items: center; /* ‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
        margin-bottom: 15px; /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á Container ‡∏ô‡∏µ‡πâ */
        gap: 15px; /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å */
    }


    /* ‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô */
    .amount-input {
        display: flex;
        align-items: center;
        border: 1px solid #ddd; /* ‡πÄ‡∏™‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö */
        border-radius: 4px;
        padding: 8px 12px;
        /* margin-bottom: 15px; /* ‡∏•‡∏ö margin-bottom ‡∏≠‡∏≠‡∏Å ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏ó‡∏µ‡πà .amount-and-options gap */
        background-color: #f9f9f9; /* ‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å */
        flex-grow: 1; /* **‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏¢‡∏∑‡∏î‡∏Ç‡∏¢‡∏≤‡∏¢‡πÑ‡∏î‡πâ** */
        min-width: 120px; /* **‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÅ‡∏Ñ‡∏ö‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡πÉ‡∏ô‡∏à‡∏≠‡πÄ‡∏•‡πá‡∏Å** */
    }

    .amount-input span {
        margin-right: 10px;
        font-weight: bold;
    }

    .amount-input input {
        border: none;
        outline: none;
        width: 100%;
        font-size: 16px;
        background: transparent; /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™ */
    }

    /* ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô */
    .payment-options {
        display: flex;
        flex-wrap: wrap; /* ‡πÉ‡∏´‡πâ Wrap ‡∏•‡∏á‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà */
        /* margin-bottom: 20px; /* ‡∏•‡∏ö margin-bottom ‡∏≠‡∏≠‡∏Å ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏ó‡∏µ‡πà .amount-and-options gap */
        /* justify-content: center; /* ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏±‡∏î center ‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà */
        gap: 10px; /* **‡∏•‡∏î gap ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏≠‡∏á** */
        flex-shrink: 0; /* **‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ñ‡∏π‡∏Å‡∏ö‡∏µ‡∏ö‡∏à‡∏ô‡πÄ‡∏•‡πá‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ** */
    }



    .payment-option input[type="radio"] {
        display: none; /* ‡∏ã‡πà‡∏≠‡∏ô Radio Button ‡πÄ‡∏î‡∏¥‡∏° */
    }

    /* Label ‡∏Ç‡∏≠‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏∏‡πà‡∏° */
    .payment-button {
        display: inline-block;
        padding: 8px 15px;
        border: 1px solid #ddd;
        border-radius: 20px; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏∏‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏á */
        cursor: pointer;
        transition: all 0.3s;
        font-size: 14px;
         background-color: #fff; /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å */
         color: #333; /* ‡∏™‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å */
         white-space: nowrap; /* **‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏î‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î** */
    }

     /* ‡∏õ‡∏£‡∏±‡∏ö padding ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Label ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ UnionPay (PromptPay ‡πÉ‡∏ô‡∏£‡∏π‡∏õ) */
     /* ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ PromptPay ‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ class ‡πÅ‡∏¢‡∏Å ‡πÄ‡∏ä‡πà‡∏ô .promptpay-label */
     .payment-button.promptpay-label { /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å unionpay-label ‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ PromptPay */
        padding: 4px 10px; /* ‡∏õ‡∏£‡∏±‡∏ö padding ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡∏£‡∏π‡∏õ */
    }

    /* ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û PromptPay ‡∏´‡∏£‡∏∑‡∏≠ UnionPay */
    .payment-button.promptpay-label img { /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å unionpay-label ‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ PromptPay */
        height: 80px; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û */
        vertical-align: middle; /* ‡∏à‡∏±‡∏î‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    }

    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å */
    .payment-option input[type="radio"]:checked + .payment-button {
        background-color: #ff8c42; /* ‡∏™‡∏µ‡∏™‡πâ‡∏°‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ */
        color: white;
        border-color: #ff8c42;
    }

    /* Container ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏° Donate Now ‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    .donate-button-container {
        text-align: center;
    }

    /* ‡∏õ‡∏∏‡πà‡∏° Donate Now */
    .donate-now-btn {
        background-color: #d55e00; /* ‡∏™‡∏µ‡∏™‡πâ‡∏°‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ */
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 25px; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏á‡∏°‡∏ô */
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s;
        width: 50%; /* ‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á */
    }

    .donate-now-btn:hover {
        background-color: #e0783a; /* ‡∏™‡∏µ‡∏™‡πâ‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠ Hover */
    }
    /* Back button style */

    .back-button-container {
    position: relative;
    height: 50px; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏±‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏° Back */
}

.back-button {
    position: absolute;
    left: 20px; /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏Ç‡∏≠‡∏ö‡∏ã‡πâ‡∏≤‡∏¢ */
    top: 280;
    padding: 8px 12px;
    font-size: 30;
    color: #d55e00;
    text-decoration: none;
    border-radius: 8px;
    font-weight: 3000;
    font-family: 'Varela Round', sans-serif;
    transition: background-color 0.3s ease;
    z-index: 10;
}

.back-button:hover {
    background-color: #e0783a;
}

    /* Styles for QR Code and Slip Upload Section */
    #promptpay-details {
        display: none; /* Hidden by default */
        margin-top: 20px;
        padding-top: 15px;
        border-top: 1px solid #eee;
        text-align: center;
    }

    #promptpay-details img {
        max-width: 180px; /* Adjust size as needed */
        height: auto;
        margin-bottom: 15px;
        border: 1px solid #ccc; /* Optional: add border */
        padding: 5px; /* Optional: add padding */
    }

    #promptpay-details .form-group {
        margin-bottom: 15px;
        text-align: left; /* Align label to the left */
    }

    #promptpay-details .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }

    #promptpay-details .form-group input[type="file"] {
        display: block; /* Ensure file input takes full width */
        width: 100%;
    }

     /* Styles for the Thank You Popup */
    .popup-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6); /* Dim background */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 2000; /* Above other content */
        visibility: hidden; /* Hidden by default */
        opacity: 0;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .popup-overlay.visible {
        visibility: visible;
        opacity: 1;
    }

    .popup-content {
        background: #fff;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        position: relative;
        max-width: 300px; /* Adjust max width */
        width: 90%;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .popup-content .close-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 20px;
        cursor: pointer;
        color: #aaa;
        border: none;
        background: none;
    }

    .popup-content .close-btn:hover {
        color: #777;
    }

    .popup-content .icon {
        font-size: 40px; /* Icon size */
        color: var(--accent-red); /* Match heart color */
        margin-bottom: 15px;
    }

    .popup-content h4 {
        margin-top: 0;
        color: #333;
        font-size: 1.2em; /* Adjust font size */
    }

    .popup-content p {
        color: #555;
        line-height: 1.6;
    }


</style>



{% endblock %}

{% block content %}
<div class="back-button-container">
    <a href="#" class="back-button" onclick="history.back(); return false;">‚Üê </a>
</div>

    <div class="page-header-title">
            Donate
    </div>


    <div class="donate-detail-container">
        <div class="pet-detail-card">
            <div class="pet-info-header">
                <h3>No. {{ case.case_id }}</h3> {# ‡πÅ‡∏™‡∏î‡∏á case_id #}
                 {# ‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏û‡∏®‡πÉ‡∏ô Header ‡∏ô‡∏µ‡πâ‡∏î‡πâ‡∏ß‡∏¢ #}
                 <div class="gender-icon {% if case.pet.gender|lower == 'female' %}female{% endif %}">
                    {% if case.pet.gender|lower == 'male' %}
                        ‚ôÇ
                    {% elif case.pet.gender|lower == 'female' %}
                        ‚ôÄ
                    {% else %}
                        ? {# ‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡πÄ‡∏û‡∏® #}
                    {% endif %}
                </div>
            </div>

            <div class="pet-detail-info">
                <div class="pet-image">
                     {# ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏™ ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á Pet ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á ‡∏ñ‡πâ‡∏≤ Pet ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ default #}
                    {% if case.image %}
                        <img src="{{ case.image.url }}" alt="{{ case.title }}">
                    {% elif case.pet.photo %} {# Fallback ‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û Pet ‡∏ñ‡πâ‡∏≤ case.image ‡πÑ‡∏°‡πà‡∏°‡∏µ #}
                         <img src="{{ case.pet.photo.url }}" alt="{{ case.pet.name }}">
                    {% else %}
                         {# ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û default ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÄ‡∏•‡∏¢ #}
                         <img src="{% static 'myapp/images/default_pet.png' %}" alt="No image available">
                    {% endif %}
                </div>


                <div class="pet-details">
                    <div class="detail-row">
                        <span class="detail-label">Hospital:</span>
                        {# ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á N/A #}
                        <span class="detail-value">{{ case.hospital|default:"N/A" }}</span>
                    </div>
                     {# ‡πÉ‡∏ô Screenshot ‡∏°‡∏µ "Cause" ‡πÅ‡∏ï‡πà‡πÉ‡∏ô DonationCase model ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ï‡∏£‡∏á‡πÜ #}
                     {# ‡πÉ‡∏ä‡πâ title ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå 'cause' ‡πÉ‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏• DonationCase #}
                     <div class="detail-row">
                        <span class="detail-label">Cause:</span>
                        <span class="detail-value">{{ case.title|default:"N/A" }}</span> {# ‡πÉ‡∏ä‡πâ title ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á #}
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Gender:</span>
                         {# ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏®‡∏à‡∏≤‡∏Å Pet ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á #}
                        <span class="detail-value">{{ case.pet.gender|default:"N/A" }}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Age:</span>
                         {# ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≤‡∏¢‡∏∏‡∏à‡∏≤‡∏Å Pet ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á #}
                        <span class="detail-value">{{ case.pet.age|default:"N/A" }}</span>
                    </div>
                </div>
            </div>

            <div class="pet-condition">
                 {# ‡∏™‡πà‡∏ß‡∏ô Label "Description of the condition" ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏™‡∏°‡∏∏‡∏î‡πÇ‡∏ô‡πâ‡∏ï #}
                 <div class="condition-label">
                     <span class="notebook-icon">üìÑ</span> Description of the condition
                 </div>
                 {# ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏™ #}
                <p>{{ case.description|default:"No description provided." }}</p>
            </div>
        </div>

        <div class="donation-section">
            <div class="section-heading">Donation</div>

            {# Modified form to include ID for JavaScript and remove action/method for AJAX #}
            <form id="donation-form" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="hidden" name="case_id" value="{{ case.pk }}">

                {# **‡πÄ‡∏û‡∏¥‡πà‡∏° div ‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ß‡∏°‡∏ä‡πà‡∏≠‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô** #}
                <div class="amount-and-options">
                    <div class="amount-input">
                        <span>‡∏ø</span> {# **‡πÉ‡∏ä‡πâ‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå ‡∏ø ‡∏ö‡∏≤‡∏ó ‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ** #}
                        <input type="number" name="donationAmount" value="200" min="10" required> {# ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ #}
                    </div>

                    <div class="payment-options">

                        <div class="payment-option">
                            <input type="radio" id="detailPromptPay" name="paymentMethod" value="PromptPay" checked> {# Changed value to "PromptPay" #}
                             <label for="detailPromptPay" class="payment-button promptpay-label">
                                <img src="{% static 'myapp/images/promptpay.png' %}" alt="PromptPay">
                            </label>
                        </div>
                        {# Add other payment methods here if needed #}
                         <div class="payment-option">
                            <input type="radio" id="otherPayment" name="paymentMethod" value="Other">
                             <label for="otherPayment" class="payment-button">
                                Other
                            </label>
                        </div>
                    </div>
                </div>
                {# **‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î div ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ß‡∏°** #}

                {# Container for QR Code and Slip Upload - Hidden by default #}
                <div id="promptpay-details">
                     {# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ: ‡∏î‡∏∂‡∏á‡∏£‡∏π‡∏õ QR Code ‡∏à‡∏≤‡∏Å donation_settings ‡πÅ‡∏ó‡∏ô case #}
                     {% if donation_settings and donation_settings.promptpay_qr_code %}
                         <img src="{{ donation_settings.promptpay_qr_code.url }}" alt="QR Code ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ">
                     {% else %}
                        <p>QR Code ‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏™‡∏ô‡∏µ‡πâ</p>
                     {% endif %}

                     <div class="form-group">
                         <label for="slip_image">‡πÅ‡∏ô‡∏ö‡∏™‡∏•‡∏¥‡∏õ (‡πÄ‡∏â‡∏û‡∏≤‡∏∞ PromptPay):</label>
                         <input type="file" id="slip_image" name="slip_image" accept="image/*" > {# Remove 'required' here, handle validation in JS/View #}
                     </div>
                </div>


                <div class="donate-button-container">
                    <button type="submit" class="donate-now-btn">Donate Now</button>
                </div>
            </form>
        </div>

         {# ‡∏™‡πà‡∏ß‡∏ô Related Pets Section ‡πÅ‡∏•‡∏∞ Navigation Footer ‡πÄ‡∏î‡∏¥‡∏°‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ #}

    </div>

    {# Thank You Popup Structure - Hidden by default #}
    <div id="thank-you-popup" class="popup-overlay">
        <div class="popup-content">
            <button class="close-btn">&times;</button>
            <div class="icon">‚ù§Ô∏è</div>
            <h4>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì!</h4>
            <p>‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ</p>
        </div>
    </div>


    {# ‡∏™‡πà‡∏ß‡∏ô Footer ‡∏à‡∏∞‡∏°‡∏≤‡∏à‡∏≤‡∏Å base.html ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ #}

{% endblock %}

{% block extra_scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const paymentMethodRadios = document.querySelectorAll('input[name="paymentMethod"]');
        const promptpayDetails = document.getElementById('promptpay-details');
        const donationForm = document.getElementById('donation-form');
        const thankYouPopup = document.getElementById('thank-you-popup');
        const closePopupBtn = thankYouPopup.querySelector('.close-btn');
        const slipImageInput = document.getElementById('slip_image'); // Get the slip input field


        // Function to show/hide PromptPay details
        function togglePromptPayDetails() {
            const selectedMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
            if (selectedMethod === 'PromptPay') {
                promptpayDetails.style.display = 'block';
                // Make slip image required for PromptPay
                slipImageInput.setAttribute('required', 'required');
            } else {
                promptpayDetails.style.display = 'none';
                // Remove required attribute for other payment methods
                slipImageInput.removeAttribute('required');
            }
        }

        // Add event listeners to payment method radio buttons
        paymentMethodRadios.forEach(radio => {
            radio.addEventListener('change', togglePromptPayDetails);
        });

        // Initial check on page load
        togglePromptPayDetails();


        // Handle form submission with AJAX
        donationForm.addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission

            const formData = new FormData(this);
            const selectedMethod = formData.get('paymentMethod');

            // Basic validation for PromptPay slip
            if (selectedMethod === 'PromptPay') {
                 if (!formData.get('slip_image') || formData.get('slip_image').size === 0) {
                    alert('‡πÇ‡∏õ‡∏£‡∏î‡πÅ‡∏ô‡∏ö‡∏™‡∏•‡∏¥‡∏õ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡∏î‡πâ‡∏ß‡∏¢ PromptPay');
                    return; // Stop the submission
                 }
            }


            fetch('', { // Submit to the same URL
                method: 'POST',
                body: formData,
                headers: {
                    'X-CSRFToken': getCookie('csrftoken'), // Include CSRF token
                    'X-Requested-With': 'XMLHttpRequest' // <-- Added header for AJAX detection
                }
            })
            .then(response => {
                // Check if the response is JSON before parsing
                const contentType = response.headers.get('content-type');
                if (contentType && contentType.includes('application/json')) {
                    return response.json();
                } else {
                    // If not JSON, maybe it's a redirect or other non-JSON response
                    console.error('Received non-JSON response:', response);
                    // Handle non-JSON response, e.g., show a generic error or redirect
                    alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Å‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå');
                    // Or, if a redirect is expected on success (though we want popup),
                    // you might handle the redirect here if needed.
                    // For now, we'll treat non-JSON as an error for the popup flow.
                    return Promise.reject('Received non-JSON response');
                }
            })
            .then(data => {
                if (data.success) {
                    // Show thank you popup
                    thankYouPopup.classList.add('visible');
                    // Clear the form (optional)
                    donationForm.reset();
                    // Reset the display of PromptPay details
                     togglePromptPayDetails(); // Ensure PromptPay details hide after reset if Other is default
                } else {
                    // Handle errors if any
                    alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ: ' + data.error);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•'); // This is the other possible alert
            });
        });

        // Close popup when close button is clicked
        closePopupBtn.addEventListener('click', function() {
            thankYouPopup.classList.remove('visible');
        });

         // Close popup when clicking outside the popup content
         thankYouPopup.addEventListener('click', function(event) {
             if (event.target === thankYouPopup) {
                 thankYouPopup.classList.remove('visible');
             }
         });


        // Function to get CSRF token
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }


         // Add JavaScript for payment method button styling (from previous code)
        const paymentOptionRadios = document.querySelectorAll('.payment-option input[type="radio"]');
        const paymentButtonLabels = document.querySelectorAll('.payment-button');

        paymentOptionRadios.forEach(option => {
            option.addEventListener('change', function() {
                paymentButtonLabels.forEach(label => {
                    label.classList.remove('selected');
                });

                if (this.checked) {
                    document.querySelector(`label[for="${this.id}"]`).classList.add('selected');
                }
            });
        });

        const initialChecked = document.querySelector('.payment-option input[type="radio"]:checked');
        if (initialChecked) {
            document.querySelector(`label[for="${initialChecked.id}"]`).classList.add('selected');
        }


    });
</script>
{% endblock %}